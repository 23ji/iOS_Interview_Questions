#  20. 상속(Inheritance)과 프로토콜(Protocol)의 차이점은 무엇인가요?

## 한 줄 핵심

* **상속**: “부모 클래스의 기능을 물려받음”
* **프로토콜**: “이런 기능을 반드시 구현하겠다고 약속함”

👉 **상속은 ‘물려받기’**, **프로토콜은 ‘규칙 정의’**

---

## 1️⃣ 상속(Inheritance)이란?

상속은 **기존 클래스(부모)** 를 기반으로
**새 클래스(자식)** 를 만드는 방식임

```swift
class Animal {
    func eat() {}
}

class Dog: Animal {
    func bark() {}
}
```

* Dog는 Animal의 기능을 **그대로 가짐**
* 코드 재사용 가능
* 부모-자식 관계가 명확함

### 실생활 비유

* 부모 유전자 물려받는 것
* 이미 가진 성질 위에 새로운 특징 추가

---

## 2️⃣ 클래스 상속의 장단점

### 장점

* 코드 재사용 쉬움
* 공통 로직 한 곳에서 관리 가능
* 구조가 직관적임

### 단점

* **강한 결합**
* 부모 변경 시 자식 영향 큼
* 계층 구조 깊어지면 유지보수 어려움
* 한 번 상속 구조 잘못 짜면 되돌리기 힘듦

👉 “편하지만 한번 묶이면 풀기 어려움”

---

## 3️⃣ 다중 상속이 안 되는 이유

Swift에서 클래스는 **단일 상속만 가능**

### 왜 안 되냐?

```swift
class A {
    func foo() {}
}

class B {
    func foo() {}
}

// class C: A, B ❌
```

* A와 B에 같은 메서드가 있으면?
* 어떤 foo()를 써야 할지 애매해짐

👉 이 문제를 **다이아몬드 문제**라고 부름

### Swift의 선택

* 클래스 다중 상속 ❌
* **프로토콜로 해결** ⭕

---

## 4️⃣ 프로토콜(Protocol)이란?

프로토콜은

> “이 타입은 이런 기능을 반드시 가져야 한다”
> 라는 **규칙(인터페이스)** 임

```swift
protocol Flyable {
    func fly()
}
```

* 구현 없음
* 선언만 있음
* 클래스, 구조체, 열거형 모두 채택 가능

---

## 5️⃣ 프로토콜 준수(Conformance)란?

프로토콜에 정의된 요구사항을
**실제로 구현하는 것**

```swift
class Bird: Flyable {
    func fly() {
        print("날아감")
    }
}
```

👉 “약속한 걸 지킨 상태”

---

## 6️⃣ 프로토콜로 다형성 구현하는 방법

### 핵심 개념: 타입이 아니라 **역할**로 바라봄

```swift
protocol Payable {
    func pay()
}

class Card: Payable {
    func pay() {}
}

class Cash: Payable {
    func pay() {}
}
```

```swift
func process(_ payment: Payable) {
    payment.pay()
}
```

* Card든 Cash든 상관 없음
* Payable만 지키면 됨

👉 이것이 **다형성**

### 실생활 비유

* “결제 수단”
* 카드든 현금이든 `pay()`만 되면 OK

---

## 7️⃣ 상속 vs 프로토콜 언제 쓰나?

### 상속 사용

* 명확한 부모-자식 관계
* 공통 상태 + 공통 동작이 많을 때

### 프로토콜 사용

* 역할 중심 설계
* 여러 타입에 같은 기능 요구
* 테스트, 확장성 중요할 때
* iOS에서는 **프로토콜이 훨씬 중요**

👉 Swift는 **Protocol-Oriented Programming** 지향함

---

## 📌 평생 기억용 요약

* 상속 = 기능 물려받기 (강한 결합)
* 프로토콜 = 규칙 정의 (느슨한 결합)
* 클래스는 단일 상속만 가능
* 다형성은 **프로토콜로 구현**
* Swift/iOS에선 **프로토콜이 더 중요**
