#  18. UIKit에서 TableView와 CollectionView의 차이점은 무엇인가요?

## 한 줄 요약부터

* **TableView** → 세로 목록 전문
* **CollectionView** → 격자, 가로·세로 자유 배치

---

## 1️⃣ TableView란?

👉 **위에서 아래로 쭉 나열되는 리스트 전용 뷰**

예시

* 설정 화면
* 채팅 목록
* 메일 리스트

특징

* 기본 구조가 **1열 세로 스크롤**
* 섹션, 헤더, 푸터 사용 쉬움
* 구현 난이도 낮음

---

## 2️⃣ CollectionView란?

👉 **레이아웃을 마음대로 짤 수 있는 리스트 뷰**

예시

* 사진 갤러리
* 쇼핑몰 상품 목록
* 가로 스크롤 카드 UI

특징

* 가로/세로/격자/커스텀 배치 가능
* 레이아웃 개념이 따로 존재함
* TableView보다 자유도 높음 (대신 복잡함)

---

# 📌 TableView vs CollectionView 핵심 차이

| 구분    | TableView | CollectionView |
| ----- | --------- | -------------- |
| 방향    | 세로 고정     | 자유             |
| 레이아웃  | 거의 자동     | 직접 설계          |
| 난이도   | 쉬움        | 중간~어려움         |
| 사용 목적 | 단순 리스트    | 커스텀 UI         |

---

# 2️⃣ 셀 재사용(Reusability)은 왜 필요할까?

## 왜 재사용함?

리스트에 셀이 1000개 있으면
👉 1000개 다 만들면 **메모리 터짐**

그래서
👉 **화면에 보이는 셀만 만들고**
👉 스크롤되면 **재사용**

---

## 재사용 개념 이해하기 (비유)

* 버스 좌석 = 셀
* 사람이 내리면 → 다음 사람이 앉음
* 좌석은 새로 안 만듦

---

## 구현 방식 (개념)

* 셀에 **reuseIdentifier** 붙임
* 시스템이 자동으로 돌려씀

TableView

```swift
tableView.dequeueReusableCell(withIdentifier: "Cell", for: indexPath)
```

CollectionView

```swift
collectionView.dequeueReusableCell(withReuseIdentifier: "Cell", for: indexPath)
```

👉 구조는 거의 동일함

---

# 3️⃣ 동적인 셀 높이(Dynamic Cell Height)

## 왜 필요함?

* 텍스트 길이가 제각각일 때
* 댓글, 채팅 UI

---

## TableView에서 동적 높이

### 핵심 조건

* **Auto Layout 제대로 설정**
* Label에 `numberOfLines = 0`

### 기본 설정

```swift
tableView.rowHeight = UITableView.automaticDimension
tableView.estimatedRowHeight = 100
```

👉 그러면 TableView가

* “내용 보고 알아서 높이 계산” 함

---

## CollectionView에서 동적 크기

조금 더 복잡함

### 방법 1 (가장 흔함)

* `UICollectionViewFlowLayout`
* `estimatedItemSize` 사용

```swift
layout.estimatedItemSize = UICollectionViewFlowLayout.automaticSize
```

### 방법 2

* `sizeForItemAt` 직접 계산

👉 CollectionView는 **자동보단 수동 느낌**

---

# 4️⃣ CollectionView 레이아웃 커스터마이징

## 왜 CollectionView가 강력하냐?

👉 **레이아웃 객체를 바꿀 수 있음**

---

## 대표적인 레이아웃 방식

### ① UICollectionViewFlowLayout (기본)

* 격자 형태
* 가장 많이 사용

설정 가능

* 아이템 크기
* 줄 간격
* 스크롤 방향

---

### ② Custom Layout (고급)

* 완전 자유 배치
* Pinterest 스타일 UI

👉 직접 좌표 계산함
👉 난이도 높음 (실무 중급 이상)

---

### ③ Compositional Layout (요즘 표준)

* iOS 13+
* 선언형 레이아웃
* 복잡한 UI를 깔끔하게 표현

👉 요즘 실무에서 제일 많이 씀

---

# 🧠 처음 공부할 때 이렇게 기억하면 됨

* 단순 리스트 → **TableView**
* 자유 배치 → **CollectionView**
* 셀은 무조건 재사용
* 동적 높이 = Auto Layout이 핵심
* CollectionView 레이아웃은 따로 공부해야 함
