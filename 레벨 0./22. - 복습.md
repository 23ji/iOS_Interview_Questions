#  22. iOS 디바이스의 메모리 제약과 앱 메모리 제한에 대해 설명해주세요.

## 1️⃣ iOS 앱은 메모리 무제한 아님

* iOS는 **앱마다 사용 가능한 메모리 한계** 있음
* 기기 RAM 크기 + 현재 실행 중인 앱 상태에 따라 달라짐
* 한계 초과하면 👉 **강제 종료(OOM, Out Of Memory)**

👉 “조용히 죽음, 크래시 로그도 없는 경우 많음”

---

## 2️⃣ iOS가 메모리를 관리하는 방식

* iOS가 전체 메모리 관리함
* 앱은 요청만 할 뿐, 통제권 없음
* 메모리 부족해지면 iOS가 먼저:

  1. 백그라운드 앱 종료
  2. 그래도 부족하면 실행 중 앱에 **Memory Warning** 전달
  3. 안 줄이면 앱 강제 종료

---

## 3️⃣ 메모리 경고(Memory Warning)란?

**iOS가 앱에게 보내는 마지막 경고**

의미
👉 “지금 안 줄이면 너 죽음”

발생 시점

* 이미지 많이 로드
* 캐시 과다
* 큰 데이터 계속 들고 있을 때

---

## 4️⃣ Memory Warning 발생 시 해야 할 일

### ✅ 반드시 해야 할 것

* 캐시된 이미지 제거
* 사용 안 하는 데이터 해제
* 강한 참조 끊기
* 다시 생성 가능한 데이터 삭제

```swift
override func didReceiveMemoryWarning() {
    super.didReceiveMemoryWarning()
    imageCache.removeAll()
}
```

---

### ❌ 하면 안 되는 것

* 네트워크 요청
* 무거운 연산
* 새로운 메모리 할당

👉 메모리 줄이라는 신호인데 더 쓰면 바로 종료됨

---

## 5️⃣ 특히 조심해야 할 것들

* 고해상도 이미지
* 대용량 배열
* 싱글톤에 데이터 쌓기
* ViewController 강한 참조 순환
* 스크롤 뷰에서 이미지 무한 로드

---

## 📌 평생 기억용 초간단 요약

* iOS 앱은 **메모리 제한 있음**
* 초과하면 **경고 → 강제 종료**
* Memory Warning = 마지막 경고
* 그때 해야 할 일 = **버리고, 해제하고, 줄이기**
* 이미지 & 캐시가 가장 큰 주범

👉 메모리 경고 무시 = 앱 사망
